<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no">

		<meta name="theme-color" media="(prefers-color-scheme: light)" content="light">
		<meta name="theme-color" media="(prefers-color-scheme: dark)" content="dark">

		<meta name="color-scheme" media="(prefers-color-scheme: light)" content="dark">
		<meta name="color-scheme" media="(prefers-color-scheme: dark)" content="light">

		<title>Wayfarer</title>
		<meta name="description" content="An open-source user interface for the Space Traders API">
		<script type="text/javascript">
window.addEventListener('storage', (event) => {
	if (event.key === 'theme') {
		if (event.newValue === 'dark') {
			document.documentElement.classList.add('dark')
		} else {
			document.documentElement.classList.remove('dark')
		}
	}
})

window
	.matchMedia('(prefers-color-scheme: dark)')
	.addEventListener('change', (event) => {
		if (!('theme' in localStorage)) {
			if (event.matches) {
				document.documentElement.classList.add('dark')
			} else {
				document.documentElement.classList.remove('dark')
			}
		}
	});

if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
	document.documentElement.classList.add('dark')
}
		</script>
	</head>

	<body>
		<div id="wayfarer"></div>
	</body>

</html>
