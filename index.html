<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, shrink-to-fit=no">

		<meta name="theme-color" media="(prefers-color-scheme: light)" content="#eeeeee">
		<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#111111">

		<meta name="color-scheme" media="(prefers-color-scheme: light)" content="dark">
		<meta name="color-scheme" media="(prefers-color-scheme: dark)" content="light">

		<title>Wayfarer</title>
		<meta name="description" content="An open-source user interface for the Space Traders API">

		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/site.webmanifest">

		<script type="text/javascript">
window.addEventListener('storage', (event) => {
	if (event.key === 'theme') {
		if (event.newValue === 'dark') {
			document.documentElement.classList.add('dark')
		} else {
			document.documentElement.classList.remove('dark')
		}
	}
})

window
	.matchMedia('(prefers-color-scheme: dark)')
	.addEventListener('change', (event) => {
		if (!('theme' in localStorage)) {
			if (event.matches) {
				document.documentElement.classList.add('dark')
			} else {
				document.documentElement.classList.remove('dark')
			}
		}
	});

if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
	document.documentElement.classList.add('dark')
}
		</script>
	</head>

	<body>
		<div id="wayfarer"></div>
	</body>

	<script type="module" src="/src/index.tsx"></script>

</html>
